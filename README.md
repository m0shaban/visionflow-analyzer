
# VisionFlow Analyzer - محلل التدفق المروري 🚗💨🚦

**VisionFlow Analyzer** هو تطبيق ويب متقدم تم تطويره باستخدام React و TypeScript و Gemini API. يهدف التطبيق إلى تحليل تدفق حركة المرور من خلال مقاطع الفيديو أو بث الكاميرا المباشر، مما يوفر رؤى قيمة لمخططي المدن، مديري المرور، والباحثين.

## 📝 وصف التطبيق

يقوم التطبيق بتحليل الإطارات المرئية من مصدر فيديو (ملف محمل أو كاميرا ويب) لتنفيذ المهام التالية:

*   عد المركبات وتصنيف أنواعها (سيارات، حافلات، شاحنات، دراجات نارية، أخرى).
*   رسم مربعات تحديد (Bounding Boxes) حول كل مركبة مكتشفة مع توضيح نوعها.
*   تقدير مستوى الازدحام المروري في المشهد (خفيف، متوسط، كثيف، مزدحم).
*   تقديم وصف نصي عام للمشهد المروري.
*   كشف الأنشطة غير العادية (مثل مركبة متوقفة في مكان خطير، مشاة في الطريق) مع تحديد موقعها ووصفها.
*   إنشاء ملخصات إحصائية شاملة تتضمن متوسط عدد المركبات، لحظات الذروة، وتوزيع أنواع المركبات ومستويات الازدحام.
*   عرض مخططات بيانية تفاعلية لاتجاهات حركة المرور وتوزيع المركبات والازدحام.
*   تقديم سجل مفصل لجميع الأنشطة غير العادية المكتشفة مع صور مصغرة للإطارات المعنية.
*   استخدام قدرات Gemini API لتقديم نصائح مخصصة لتحسين التدفق المروري وأبرز نتائج التحليل.
*   تصدير تقارير التحليل إلى ملفات PDF و Excel لمشاركتها أو تحليلها بشكل أعمق.

## ✨ الميزات الرئيسية

*   **تحليل مرئي شامل:** تحليل إطارات الفيديو أو بث الكاميرا المباشر.
*   **اكتشاف وتصنيف المركبات:** تحديد أنواع المركبات بدقة (سيارة، حافلة، شاحنة، دراجة نارية، أخرى).
*   **تحديد مواقع المركبات:** رسم مربعات تحديد حول المركبات المكتشفة.
*   **تقدير مستوى الازدحام:** تصنيف الازدحام إلى خفيف، متوسط، كثيف، أو مزدحم.
*   **كشف الأنشطة غير العادية:** تنبيه المستخدم للأحداث غير المألوفة أو الخطرة.
*   **ملخصات وتقارير تفصيلية:** إحصائيات شاملة ومخططات بيانية متنوعة.
    *   مخطط توزيع أنواع المركبات.
    *   مخطط توزيع مستويات الازدحام.
    *   مخطط اتجاهات حركة المرور (عدد المركبات عبر الزمن).
*   **عرض لحظات الذروة:** مع صور مصغرة للإطارات المعنية.
*   **سجل الأنشطة غير العادية:** قائمة مفصلة بكل نشاط غير عادي مع صورة مصغرة.
*   **رؤى مدعومة بالذكاء الاصطناعي:**
    *   نصائح لتحسين تدفق حركة المرور.
    *   أبرز نتائج التحليل.
*   **تصدير البيانات:** إمكانية تصدير التقارير إلى PDF و Excel.
*   **واجهة مستخدم تفاعلية وسهلة الاستخدام:** تدعم اللغة العربية (RTL).
*   **صفحة ترحيب إرشادية:** لشرح التطبيق وميزاته وكيفية استخدامه.

## 🛠️ التقنيات المستخدمة

*   **الواجهة الأمامية:** React, TypeScript, Tailwind CSS
*   **الذكاء الاصطناعي:** Google Gemini API (`gemini-2.5-flash-preview-04-17`)
*   **المخططات البيانية:** Recharts
*   **تصدير PDF:** jsPDF, jspdf-autotable
*   **تصدير Excel:** SheetJS (xlsx)

## 🚀 كيفية الاستخدام

1.  **فتح التطبيق:** عند فتح التطبيق لأول مرة، ستظهر لك صفحة ترحيبية تشرح ميزات التطبيق وكيفية استخدامه.
2.  **الانتقال إلى التطبيق:** اضغط على زر "ابدأ استخدام محلل التدفق المروري" للانتقال إلى الواجهة الرئيسية.
3.  **توفير مفتاح API:** تأكد من أن مفتاح `API_KEY` الخاص بـ Gemini API متاح كمتغير بيئة (`process.env.API_KEY`) في السياق الذي يتم فيه تشغيل التطبيق. إذا لم يكن المفتاح موجودًا، ستظهر رسالة خطأ.
4.  **اختيار مصدر الفيديو:**
    *   **تحميل ملف فيديو:** انقر على زر "تحميل مقطع فيديو" واختر ملف فيديو من جهازك.
    *   **استخدام الكاميرا:** انقر على زر "استخدام الكاميرا" للسماح للمتصفح بالوصول إلى كاميرا الويب الخاصة بك.
5.  **بدء التحليل:** بعد اختيار المصدر، انقر على زر "بدء التحليل".
6.  **متابعة النتائج:** ستظهر النتائج بشكل مباشر أثناء المعالجة، بما في ذلك تحليل الإطار الحالي والملخصات التراكمية.
7.  **استكشاف التقارير:** بعد اكتمال التحليل أو إيقافه، يمكنك تصفح الملخصات الكاملة، المخططات، النصائح، وتصدير البيانات.
8.  **التحكم في التحليل:** استخدم أزرار "إيقاف مؤقت"، "استئناف التحليل"، "إيقاف التحليل"، و "مسح النتائج والوسائط" حسب الحاجة.

## 💡 ماذا سنستفيد من هذا التطبيق؟ (الفوائد والقيمة المضافة)

يُقدم "VisionFlow Analyzer" قيمة كبيرة لمجموعة متنوعة من الجهات والأفراد المعنيين بتحليل وإدارة حركة المرور، وذلك من خلال:

1.  **تحسين التخطيط الحضري والبنية التحتية:**
    *   **تحديد نقاط الاختناق:** يوفر بيانات دقيقة حول أماكن وأوقات الازدحام المروري، مما يساعد المخططين على تحديد المناطق التي تحتاج إلى تطوير أو إعادة تصميم.
    *   **دعم قرارات الاستثمار:** يمكن استخدام التحليلات لتقييم الحاجة إلى مشاريع بنية تحتية جديدة (طرق، جسور، إشارات مرور ذكية) وتحديد أولوياتها.
    *   **تحسين توقيت الإشارات الضوئية:** فهم أنماط التدفق المروري يساهم في برمجة إشارات المرور بشكل أكثر كفاءة لتقليل التأخير.

2.  **إدارة حركة المرور وتعزيز السلامة:**
    *   **مراقبة الازدحام شبه الفورية:** يمكن استخدام التطبيق لمتابعة مستويات الازدحام، مما يسمح بالاستجابة السريعة للحالات الطارئة أو غير المتوقعة.
    *   **الكشف المبكر عن الحوادث والأنشطة غير العادية:** يساعد في سرعة تدخل الجهات المعنية (شرطة المرور، الإسعاف) عند وقوع حوادث أو توقف مركبات بشكل خطير.
    *   **تحليل سلوكيات القيادة:** (ميزة مستقبلية محتملة) فهم أنماط القيادة الخطرة للمساعدة في حملات التوعية أو تحديد مناطق تحتاج إلى رقابة مرورية أكبر.

3.  **دعم اتخاذ القرارات المستندة إلى البيانات:**
    *   **تقارير كمية:** يوفر التطبيق إحصائيات وتقارير قابلة للتصدير (PDF, Excel) تدعم السياسات المرورية بالأرقام بدلاً من التقديرات.
    *   **قياس أثر التدخلات:** يمكن استخدامه لتقييم فعالية التغييرات التي يتم إجراؤها على شبكة الطرق أو أنظمة إدارة المرور.

4.  **البحث والتطوير الأكاديمي:**
    *   **منصة اختبار:** يُعد بيئة مناسبة لاختبار وتطوير نماذج رؤية حاسوبية جديدة لتحليل حركة المرور.
    *   **جمع البيانات:** يمكن استخدامه لتوليد مجموعات بيانات قيمة للدراسات والأبحاث المرورية.

5.  **تطبيقات تجارية محتملة:**
    *   **تحسين الخدمات اللوجستية:** مساعدة شركات النقل والتوصيل في اختيار المسارات الأقل ازدحامًا.
    *   **اختيار مواقع المشاريع:** قد تستفيد الشركات من بيانات التدفق المروري عند اختيار مواقع جديدة لفروعها أو مشاريعها التجارية.

بشكل عام، يهدف التطبيق إلى تحويل البيانات المرئية الخام إلى رؤى قابلة للتنفيذ، مما يساهم في إنشاء مدن أكثر ذكاءً وكفاءة وأمانًا من حيث حركة المرور.

## 🧑‍💻 المطور

*   **الاسم:** محمد شعبان
*   **GitHub:** [m0shaban](https://github.com/m0shaban)

---
*VisionFlow Analyzer &copy; 2024*
